import tkinter as tk
from keras.preprocessing.image import img_to_array
import numpy as np
from tkinter import filedialog
from tensorflow import keras
from PIL import ImageTk, Image
img_dimension = 255
classnames = ['DVI', 'DisplayPort', 'HDMI', 'PS2', 'USBC']
model = keras.models.load_model("PortellerModel")

def file_predict(photo):
    image = Image.open(photo)
    image = image.resize((img_dimension, img_dimension), Image.ANTIALIAS)
    numpy_image = img_to_array(image)
    image_batch = np.expand_dims(numpy_image, axis=0)
    predictions = model.predict(image_batch)
    print(classnames[np.argmax(predictions[0])])

def UploadAction(event=None):
    filename = filedialog.askopenfilename()
    file_predict(filename)

root = tk.Tk()
button = tk.Button(root, text='Open', command=UploadAction)
button.pack()

root.mainloop()